# ===========================
#  SWD Pose + Dot Infer Config
#  Author: Tianqi Yao
# ===========================

# ---- 数据路径 ----
data_root: "/workspace/_ty/01_data/01_16mp_2024_pipeline_data"
target_subdir_name: "raw_data"
depth: 1

# ---- 模型路径 ----
models:
  pose_model: "/workspace/_ty/05_models/best_models/02_swd_pose/yolo11n-pose-best_v2.pt"
  dot_model: "/workspace/_ty/05_models/best_models/03_dot_det/yolo11n-det-best_v1.pt"

# ---- 输出文件命名 ----
output_files:
  input_json: "output/02_combined_annotations_dedup.json"
  output_json: "output/03_coco_with_pose_dot.json"
  log_file_name: "pose_dot.log"

# ---- 预测参数 ----
pose_args:
  imgsz: null        # 自动从模型读取
  conf: 0.50
  iou: 0.60
  device: 0
  batch: 1
  verbose: false

dot_args:
  imgsz: null
  conf: 0.10
  iou: 0.50
  device: 0
  batch: 1
  verbose: false

# ---- 裁剪参数 ----
crop:
  margin: 0        # 你的当前设置：不加 margin
  kpt_names: ["h", "lp", "rp"]

# ---- 分类标签 ----
categories:
  swd:
    id: 1
    name: "swd"
    supercategory: "object"
    keypoints: ["h", "lp", "rp"]
    skeleton: [[0, 1], [0, 2]]

  dot:
    id: 2
    name: "dot"
    supercategory: "object"

# ---- GPU 清理 ----
free_gpu_after_each_dir: true

# ---- 时区设定 ----
timezone: "US/Central"
